<nav>
    <div class="nav-wrapper orange darken-2">
        <div class="container">
            <span class="breadcrumb"><a href="#!/account">My Account</a></span>
            <span class="breadcrumb"><a href="#!/account">Courses</a></span>
            <span class="breadcrumb orange-text text-lighten-4">{{ ctrl.course.name }}</span>
        </div>
    </div>
</nav>
<div class="container">
    <div class="row top40">
        <p class="text-darken-3 grey-text spaced-text">{{ ctrl.course.description }}</p>
    </div>

    <div class="row top20">
        <div class="col s6 m3 padding-5">
            <div class="pill indigo white-text center padding-5">
                {{ ctrl.course.season}} {{ ctrl.course.startDate  | date: 'yyyy' }}
            </div>
        </div>
        <div class="col s6 m3 padding-5">
            <div class="pill orange darken-2 white-text center padding-5">
                Code: {{ ctrl.course.code }}
            </div>
        </div>
        <div class="col s6 m3 padding-5">
            <div class="pill grey darken-3 white-text center padding-5">
                Start Date: {{ ctrl.course.startDate  | date: date }}
            </div>
        </div>
        <div class="col s6 m3 padding-5">
            <div class="pill grey darken-3 white-text center padding-5">
                End Date: {{ ctrl.course.endDate  | date: date }}
            </div>
        </div>
    </div>

    <div class="top40"></div>
    <hr />

    <div class="row top20">
        <div class="col s12 m6">
            <h4 class="col s12 center grey-text text-darken-4"> Students </h4>
        </div>
        <div class="col s12 m6">
            <h4 class="col s12 m6 center grey-text text-darken-4"> Quizzes </h4>
            <div class="col s12 m6">
                <a href class="waves btn teal darken-2 white-text top10" data-target='newQuizzModal' modal>
                    &nbsp;&nbsp;&nbsp;Add Quizz&nbsp;&nbsp;&nbsp;
                </a>
            </div>
            <div ng-repeat="quizz in ctrl.quizzes">
                <div class="col s12">
                    <div class="card">
                        <div class="card-content">
                            <span class="card-title grey-text text-darken-4">{{ quizz.name }}</span>
                            <div class="row">
                                <div class="col s12 grey-text text-darken-1">
                                    {{ quizz.description | limitTo : 120}}{{ quizz.description.length > 120 ? "..." : ""}}
                                </div>
                                <div class="col s12 m6 grey-text top5">
                                    Start Date: &nbsp;{{ quizz.startDate | date: date}}
                                </div>
                                <div class="col s12 m6 grey-text top5">
                                    Due Date:&nbsp;&nbsp;&nbsp; {{ quizz.dueDate | date: date }}
                                </div>
                                <div class="col s12 m6 grey-text top5">
                                    Questions: {{ quizz.questions.length}}
                                </div>
                                <div class="col s12 m6 grey-text top5">
                                    Points: {{ quizz.points}}
                                </div>
                            </div>
                        </div>
                        <div class="card-action">
                            <a href ng-click="ctrl.viewQuizz(quizz)">VIEW</a>
                            <a href ng-click="ctrl.viewQuizz(quizz)" class="indigo-text">EDIT</a>
                            <a href ng-click="ctrl.viewQuizz(quizz)" class="red-text">DELETE</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div ng-include="'views/account/new_quizz_modal.html'"></div>

<div class="modal" id="deleteModal">
    <div class="modal-content">
        <h5>Delete confirmation</h5>
        <p>Are you sure you want to permanently delete this quizz?</p>
    </div>
    <div class="modal-footer">
        <a href="javascript:" ng-click="ctrl.deleteQuizz()"
           class="modal-action modal-close waves-effect waves-green btn-flat red-text">Delete</a>
        <a href="javascript:" class="grey-text modal-close modal-action waves-effect waves-red btn-flat">Cancel</a>
    </div>
</div>